<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PriorityFlow - Smart Traffic System</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>
  <header>
    <h1>PriorityFlow: Smart Traffic Management System</h1>
  </header>

  <main>
    <div id="emergencyBanner">ğŸš¨ Emergency Vehicle Approaching! Prioritizing Lane...</div>

    <!-- ğŸš¦ Signal Display -->
    <section id="signals">
      <div class="lane" id="lane-north">
        <div class="signal red" id="light-north"></div>
        <p>North</p>
      </div>
      <div class="lane" id="lane-east">
        <div class="signal red" id="light-east"></div>
        <p>East</p>
      </div>
      <div class="lane" id="lane-south">
        <div class="signal red" id="light-south"></div>
        <p>South</p>
      </div>
      <div class="lane" id="lane-west">
        <div class="signal red" id="light-west"></div>
        <p>West</p>
      </div>
    </section>

    <!-- ğŸ—ºï¸ Map -->
    <div id="map" style="height: 400px;"></div>

    <!-- ğŸ“Š Live Dashboard -->
    <section id="dashboard">
      <h2>ğŸ“Š Live Dashboard</h2>
      <div class="dashboard-grid">
        <div>ğŸš¦ Current Green Light: <span id="currentGreen">N/A</span></div>
        <div>ğŸš‘ Emergency Status: <span id="emergencyStatus">Inactive</span></div>
        <div>â±ï¸ ETA to Intersection: <span id="eta">N/A</span></div>
        <div>ğŸ›£ï¸ Vehicle Count (Simulated): <span id="vehicleCount">0</span></div>
      </div>
    </section>

    <!-- ğŸ§‘â€ğŸ’¼ Admin Control Panel -->
    <section id="admin-panel">
      <h2>ğŸ§‘â€ğŸ’¼ Admin Controls</h2>
      <div class="admin-controls">
        <button onclick="manualSetLight('north')">North Green</button>
        <button onclick="manualSetLight('east')">East Green</button>
        <button onclick="manualSetLight('south')">South Green</button>
        <button onclick="manualSetLight('west')">West Green</button>
        <button onclick="toggleEmergency()">Toggle Emergency Mode</button>
        <button onclick="resetSystem()">Reset System</button>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 PriorityFlow. All rights reserved.</p>
  </footer>

  <script src="script.js"></script>
  <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
</body>
</html>
